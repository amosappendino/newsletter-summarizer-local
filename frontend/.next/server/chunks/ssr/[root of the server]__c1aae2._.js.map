{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///Users/amos/Random%20Projects/6.S093%20-%20How%20to%20ship%20almost%20anything%20with%20AI/Final%20Project%20IAP%20Sundai%20/frontend/app/services/api.ts"],"sourcesContent":["import axios from \"axios\";\n\n// Base URL pointing to your backend API\nconst API_BASE_URL = \"http://127.0.0.1:8000\";\n\n/**\n * Fetch emails by sender or subject.\n * @param query The search query for emails.\n * @returns List of matching emails (id, sender, subject).\n */\nexport const searchEmails = async (query: string) => {\n    try {\n        const response = await axios.get(`${API_BASE_URL}/search-emails/`, {\n            params: { query },\n        });\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching emails:\", error);\n        throw error;\n    }\n};\n\n/**\n * Summarize the email content by email ID.\n * @param emailId The ID of the email to summarize.\n * @returns Summarized content of the email.\n */\nexport const summarizeEmail = async (emailId: number) => {\n    try {\n        const response = await axios.get(`${API_BASE_URL}/summarize-email/`, {\n            params: { email_id: emailId },\n        });\n        return response.data;\n    } catch (error) {\n        console.error(\"Error summarizing email:\", error);\n        throw error;\n    }\n};\n"],"names":[],"mappings":";;;;AAAA;;AAEA,wCAAwC;AACxC,MAAM,eAAe;AAOd,MAAM,eAAe,OAAO;IAC/B,IAAI;QACA,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,GAAG,aAAa,eAAe,CAAC,EAAE;YAC/D,QAAQ;gBAAE;YAAM;QACpB;QACA,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,0BAA0B;QACxC,MAAM;IACV;AACJ;AAOO,MAAM,iBAAiB,OAAO;IACjC,IAAI;QACA,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,GAAG,aAAa,iBAAiB,CAAC,EAAE;YACjE,QAAQ;gBAAE,UAAU;YAAQ;QAChC;QACA,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,MAAM;IACV;AACJ"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///Users/amos/Random%20Projects/6.S093%20-%20How%20to%20ship%20almost%20anything%20with%20AI/Final%20Project%20IAP%20Sundai%20/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { searchEmails, summarizeEmail } from \"./services/api\";\n\nexport default function HomePage() {\n    const [query, setQuery] = useState(\"\");\n    const [emails, setEmails] = useState<any[]>([]);\n    const [selectedEmail, setSelectedEmail] = useState<number | null>(null);\n    const [summary, setSummary] = useState(\"\");\n    const [isSearching, setIsSearching] = useState(false);\n    const [isSummarizing, setIsSummarizing] = useState(false);\n    const [searchError, setSearchError] = useState<string | null>(null);\n    const [summaryError, setSummaryError] = useState<string | null>(null);\n\n    const handleSearch = async () => {\n        try {\n            setIsSearching(true);\n            setSearchError(null);\n            const response = await searchEmails(query);\n            setEmails(response.emails || []);\n        } catch (error) {\n            console.error(\"Error fetching emails:\", error);\n            setSearchError(\"Failed to fetch emails. Please try again.\");\n        } finally {\n            setIsSearching(false);\n        }\n    };\n\n    const handleSummarize = async (emailId: number) => {\n        try {\n            setSelectedEmail(emailId);\n            setIsSummarizing(true);\n            setSummaryError(null);\n            const response = await summarizeEmail(emailId);\n            setSummary(response.summary);\n        } catch (error) {\n            console.error(\"Error summarizing email:\", error);\n            setSummaryError(\"Failed to generate summary. Please try again.\");\n        } finally {\n            setIsSummarizing(false);\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-8\">\n            <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-6\">\n                Newsletter Summarizer\n            </h1>\n            <input\n                type=\"text\"\n                placeholder=\"Search emails by sender or subject...\"\n                value={query}\n                onChange={(e) => setQuery(e.target.value)}\n                maxLength={100}\n                className=\"border p-2 rounded w-full max-w-md mb-4\"\n            />\n            <button\n                onClick={handleSearch}\n                disabled={isSearching}\n                className={`bg-blue-500 text-white px-4 py-2 rounded-md ${\n                    isSearching ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n            >\n                {isSearching ? 'Searching...' : 'Search Emails'}\n            </button>\n\n            {searchError && (\n                <div className=\"mt-4 text-red-600 bg-red-100 p-3 rounded-md\">\n                    {searchError}\n                </div>\n            )}\n\n            {isSearching && (\n                <div className=\"mt-4 text-gray-600 dark:text-gray-400\">\n                    Loading emails...\n                </div>\n            )}\n\n            <ul className=\"mt-6 w-full max-w-md space-y-2\">\n                {emails.map((email) => (\n                    <li\n                        key={email.id}\n                        onClick={() => !isSummarizing && handleSummarize(email.id)}\n                        className={`cursor-pointer p-4 bg-gray-100 dark:bg-gray-800 rounded-md shadow-sm ${\n                            isSummarizing && selectedEmail === email.id ? 'opacity-50' : ''\n                        }`}\n                    >\n                        <strong>{email.subject}</strong>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">{email.sender}</p>\n                        {isSummarizing && selectedEmail === email.id && (\n                            <p className=\"text-sm text-blue-500 mt-2\">Generating summary...</p>\n                        )}\n                        {summaryError && selectedEmail === email.id && (\n                            <p className=\"text-sm text-red-600 mt-2\">{summaryError}</p>\n                        )}\n                    </li>\n                ))}\n            </ul>\n\n            {summary && selectedEmail && (\n                <div className=\"mt-8 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg w-full max-w-md\">\n                    <h2 className=\"text-lg font-semibold mb-4\">Summary</h2>\n                    <p>{summary}</p>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACpB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IAC9C,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAC9D,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAEhE,MAAM,eAAe;QACjB,IAAI;YACA,eAAe;YACf,eAAe;YACf,MAAM,WAAW,MAAM,CAAA,GAAA,sHAAA,CAAA,eAAY,AAAD,EAAE;YACpC,UAAU,SAAS,MAAM,IAAI,EAAE;QACnC,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,0BAA0B;YACxC,eAAe;QACnB,SAAU;YACN,eAAe;QACnB;IACJ;IAEA,MAAM,kBAAkB,OAAO;QAC3B,IAAI;YACA,iBAAiB;YACjB,iBAAiB;YACjB,gBAAgB;YAChB,MAAM,WAAW,MAAM,CAAA,GAAA,sHAAA,CAAA,iBAAc,AAAD,EAAE;YACtC,WAAW,SAAS,OAAO;QAC/B,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,gBAAgB;QACpB,SAAU;YACN,iBAAiB;QACrB;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAAwD;;;;;;0BAGtE,8OAAC;gBACG,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,WAAW;gBACX,WAAU;;;;;;0BAEd,8OAAC;gBACG,SAAS;gBACT,UAAU;gBACV,WAAW,CAAC,4CAA4C,EACpD,cAAc,kCAAkC,IAClD;0BAED,cAAc,iBAAiB;;;;;;YAGnC,6BACG,8OAAC;gBAAI,WAAU;0BACV;;;;;;YAIR,6BACG,8OAAC;gBAAI,WAAU;0BAAwC;;;;;;0BAK3D,8OAAC;gBAAG,WAAU;0BACT,OAAO,GAAG,CAAC,CAAC,sBACT,8OAAC;wBAEG,SAAS,IAAM,CAAC,iBAAiB,gBAAgB,MAAM,EAAE;wBACzD,WAAW,CAAC,qEAAqE,EAC7E,iBAAiB,kBAAkB,MAAM,EAAE,GAAG,eAAe,IAC/D;;0CAEF,8OAAC;0CAAQ,MAAM,OAAO;;;;;;0CACtB,8OAAC;gCAAE,WAAU;0CAA4C,MAAM,MAAM;;;;;;4BACpE,iBAAiB,kBAAkB,MAAM,EAAE,kBACxC,8OAAC;gCAAE,WAAU;0CAA6B;;;;;;4BAE7C,gBAAgB,kBAAkB,MAAM,EAAE,kBACvC,8OAAC;gCAAE,WAAU;0CAA6B;;;;;;;uBAZzC,MAAM,EAAE;;;;;;;;;;YAkBxB,WAAW,+BACR,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,8OAAC;kCAAG;;;;;;;;;;;;;;;;;;AAKxB"}},
    {"offset": {"line": 317, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}